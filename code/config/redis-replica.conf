# Redis Replica Configuration for SIM-ONE MCP Server Production
# Read-only replica for load distribution

# Network and general settings
bind 0.0.0.0
port 6379
timeout 0
tcp-keepalive 300

# Replication settings
replicaof redis-master 6379
# masterauth "your-strong-password-here"  # Must match master password
replica-read-only yes
replica-serve-stale-data yes
replica-priority 100

# Memory settings
maxmemory 512mb
maxmemory-policy allkeys-lru

# Persistence (usually disabled on replicas in production)
save ""
appendonly no

# Security settings
# requirepass "your-strong-password-here"  # Should match master

# Logging
loglevel notice
logfile /data/redis-replica.log

# Performance tuning
tcp-backlog 511
databases 16

# Client settings
maxclients 10000

# Slow log
slowlog-log-slower-than 10000
slowlog-max-len 128

# Replication settings
repl-diskless-sync no
repl-diskless-sync-delay 5
repl-ping-replica-period 10
repl-timeout 60
repl-disable-tcp-nodelay no
repl-backlog-size 1mb
repl-backlog-ttl 3600